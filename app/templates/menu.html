{% extends 'base.html' %}

{% block title %}Menu - Crispy Clucker's{% endblock %}

{% block content %}
<!-- Header -->
<header class="header">
    <div class="header-inner">
        <a href="{{ url_for('main.home') }}" class="logo">
            <div class="logo-icon">üçó</div>
            <span>Crispy Clucker's</span>
        </a>
        <nav class="nav">
            <a href="{{ url_for('main.home') }}">Home</a>
            <a href="{{ url_for('main.menu') }}">Menu</a>
            <a href="{{ url_for('cart.view_cart') }}">
                Cart
                {% if cart_count > 0 %}
                <span class="cart-badge">{{ cart_count }}</span>
                {% endif %}
            </a>
            {% if current_user.is_authenticated %}
                {% if current_user.is_staff() %}
                <a href="{{ url_for('manager.dashboard') }}">Dashboard</a>
                {% endif %}
                <a href="{{ url_for('auth.logout') }}">Logout</a>
            {% else %}
                <a href="{{ url_for('auth.login') }}">Login</a>
                <a href="{{ url_for('auth.signup') }}" class="btn-white">Sign Up</a>
            {% endif %}
        </nav>
    </div>
</header>

<section class="section">
    <div style="text-align: center; margin-bottom: 2rem;">
        <h1 style="font-size: 2rem; font-weight: 700; margin-bottom: 0.5rem;">Our Menu</h1>
        <p style="color: var(--gray);">Everything we serve, made fresh to order.</p>
    </div>
    
    <div class="category-tabs">
        <a href="{{ url_for('main.menu', category='all') }}" class="category-tab {{ 'active' if category == 'all' else '' }}">All</a>
        <a href="{{ url_for('main.menu', category='combos') }}" class="category-tab {{ 'active' if category == 'combos' else '' }}">Combos</a>
        <a href="{{ url_for('main.menu', category='chicken') }}" class="category-tab {{ 'active' if category == 'chicken' else '' }}">Chicken</a>
        <a href="{{ url_for('main.menu', category='sides') }}" class="category-tab {{ 'active' if category == 'sides' else '' }}">Sides</a>
        <a href="{{ url_for('main.menu', category='drinks') }}" class="category-tab {{ 'active' if category == 'drinks' else '' }}">Drinks</a>
    </div>
    
    <div class="menu-grid">
        {% for item in items %}
        <div class="menu-card">
            <div class="menu-card-image">
                <img src="{{ item.image_url }}" alt="{{ item.name }}" loading="lazy">
                {% if item.spicy %}
                <span class="menu-card-badge">üî• Spicy</span>
                {% endif %}
            </div>
            <div class="menu-card-content">
                <p class="menu-card-category">{{ item.category }}</p>
                <h3>{{ item.name }}</h3>
                <p>{{ item.description }}</p>
                <div class="menu-card-footer">
                    <span class="menu-card-price">${{ "%.2f"|format(item.price) }}</span>
                    <button class="btn-add" onclick="addToCart({{ item.id }})">Add to Cart</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</section>

<!-- Footer -->
<footer class="footer">
    <div class="footer-inner">
        <div>
            <h4>üçó Crispy Clucker's</h4>
            <p>Serving the best fried chicken on campus since 2020.</p>
        </div>
        <div>
            <h4>Hours</h4>
            <p>Mon - Fri: 11am - 9pm<br>Sat - Sun: 12pm - 8pm</p>
        </div>
        <div>
            <h4>Location</h4>
            <p>GSU Campus<br>Main Street Food Court</p>
        </div>
    </div>
    <div class="footer-bottom">
        ¬© 2024 Crispy Clucker's Food Truck. All rights reserved.
    </div>
</footer>
{% endblock %}
